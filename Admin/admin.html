<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang quản trị</title>
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="stylesheet" href="admin-login.css">
    <script src="products.js"></script>
    <script src="orders.js"></script>
    <script src="customers.js"></script>
    <script src="address.js"></script>
</head>

<body>

    <!-- Phần Header -->
    <div class="menu">
        <section id="header">
            <!-- Nội dung Header căn phải -->
            <ul id="navbar">
                <li class="userInfo"><a href="#"><i class="fa-solid fa-rocket"></i> Admin
                        <ul>
                            <li id="usernameItem">Username: </li>
                            <li id="emailItem">Email: </li>
                        </ul>
                    </a>
                </li>
            </ul>
        </section>
    </div>

    <!-- Phần Menu bên trái -->
    <div class="leftmenu">
        <!-- Mục Lục với logo chỉ (không có icon ở đây) -->
        <div class="mucluc">
            <img src="../image/30 Drinks.jpg" class="logo" alt="Logo">
            <span class="text">Mục Lục</span> <!-- Mục Lục chỉ hiển thị khi hover -->
        </div>
        <hr>
        <ul>
            <li>
                <i class="fa-solid fa-martini-glass-citrus"></i>
                <a href="#" class="view-product">Sản Phẩm</a>
            </li>
            <li>
                <i class="fa-solid fa-truck-fast"></i>
                <a href="#" class="view-order">Đơn Hàng</a>
            </li>
            <li>
                <i class="fa-solid fa-users"></i>
                <a href="#" class = "view-customers">Người dùng</a>
            </li>
            <li>
                <i class="fa-solid fa-chart-simple"></i>
                <a href="#" class="view-statistic">Thống kê</a>
            </li>
            <li>
                <i class="fa-solid fa-door-open"></i>
                <a href="admin_login.html" id="logoutLink">Đăng xuất</a>
            </li>
        </ul>
    </div>

    <!-- Phần Nội dung chính -->
    <div class="content">
        <!-- Nội dung sẽ được đặt ở đây -->
        <!-- Đơn hàng -->
        <div class="order-content">

            <div class="order-content-main">
                <div class="orders-title">Danh sách đơn hàng</div>
                <div class="order-filter">
                    <!-- Tiêu để của phần bộ lọc tìm kiếm -->
                    <div class="order-filter-title">
                        <i class="fa-solid fa-filter"></i>
                        <p>Bộ lọc tìm kiếm</p>
                    </div>
                    <!-- Nơi chứa các phương thức tìm kiếm -->
                    <div class="order-filter-item">
                        <!-- Tìm kiếm theo mã khách hàng -->
                        <div class="customer-id-filter">
                            <label for="customer-id">Mã khách hàng:</label>
                            <input type="text" id="customer-id" placeholder="Nhập mã khách hàng" value="">
                        </div>
                        <!-- Tìm kiếm theo trạng thái đơn hàng -->
                        <div class="status-filter">
                            <label for="status-filter-select">Tình trạng:</label>
                            <select id="status-filter-select">
                                <option value="all">Tất cả</option>
                                <option value="Chưa liên hệ">Chưa liên hệ</option>
                                <option value="Đã liên hệ">Đã liên hệ</option>
                                <option value="Đã giao">Đã giao</option>
                                <option value="Đã hủy đơn">Đã hủy đơn</option>
                            </select>
                        </div>
                        <!-- Tìm kiếm trong khoảng thời gian -->
                        <div class="date-filter">
                            <label for="start-date">Từ ngày:</label>
                            <input type="date" id="start-date">
    
                            <label for="end-date">Đến ngày:</label>
                            <input type="date" id="end-date">
                        </div>
                        
                        <!-- Nút áp dụng tìm kiếm -->
                        <button class="apply-filter-btn">Áp dụng</button><!-- Tìm kiếm theo địa chỉ -->

                        <div class="address-filter">
                            <label for="district-filter">Sắp xếp theo quận:</label>
                            <select id="district-filter">
                                <option value="all">Tất cả</option>
                                <option value="Quận 1">Quận 1</option>
                                <option value="Quận 2">Quận 2</option>
                                <option value="Quận 3">Quận 3</option>
                                <option value="Quận 4">Quận 4</option>
                                <option value="Quận 5">Quận 5</option>
                                <option value="Quận 6">Quận 6</option>
                                <option value="Quận 7">Quận 7</option>
                                <option value="Quận 8">Quận 8</option>
                                <option value="Quận 9">Quận 9</option>
                                <option value="Quận 10">Quận 10</option>
                                <option value="Quận 11">Quận 11</option>
                                <option value="Quận 12">Quận 12</option>
                                <option value="Bình Thạnh">Bình Thạnh</option>
                                <option value="Gò Vấp">Gò Vấp</option>
                                <option value="Phú Nhuận">Phú Nhuận</option>
                                <option value="Tân Bình">Tân Bình</option>
                                <option value="Tân Phú">Tân Phú</option>
                                <option value="Bình Tân">Bình Tân</option>
                                <option value="Thủ Đức">Thủ Đức</option>
                            </select>
    
                        </div>
                    </div>
                </div>
                <div class="wrap-orders">
                    <table class="order-table">
                        <thead>
                            <tr>
                                <th>Mã đơn hàng</th>
                                <th>Mã khách hàng</th>
                                <th>Thời gian</th>
                                <th>Tình trạng</th>
                                <th>Tổng tiền</th>
                            </tr>
                        </thead>
                        <tbody class="order-list">
                        </tbody>
                    </table>
                    <div class="pagination-order"></div>
                </div>

            </div>
            
            
            <div class="wrap-order-detail">
                <div class="order-detail">
                    <!-- Chi tiết đơn hàng nằm ở đây -->
                    <div class="order-header">
    
                    </div>
    
                    <div class="order-items">
                        <h3>Chi tiết sản phẩm</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>Mã sản phẩm</th> <!-- Thêm cột Mã sản phẩm -->
                                    <th>Sản phẩm</th>
                                    <th>Size</th>
                                    <th>Số lượng</th>
                                    <th>Giá</th>
                                    <th>Tổng</th>
                                </tr>
                            </thead>
                            <tbody id="order-items-tbody">
    
                                <!-- Ví dụ một sản phẩm có nhiều size -->
    
    
    
                            </tbody>
                        </table>
                        <div class="order-detail-status-main">
    
                        </div>
                        <div class="order-summary">
    
                        </div>
                    </div>
                </div>

            </div>
        </div>


        <!-- Thống kê -->
        <div class="statistic-content">
            <div class="statistic-title">THỐNG KÊ KINH DOANH</div>
            <div class="filter-date">
                <label for="start-date-filter">Từ ngày:</label>
                <input type="date" id="start-date-filter">
                <label for="end-date-filter">Đến ngày:</label>
                <input type="date" id="end-date-filter">
                <button class="btn-accept-filter">Áp dụng</button>
            </div>
            <div class="statistic-main">

                <div class="statistic-item">
                    <p>Mặt hàng</p>
                    <button class="statistic-type-btn statistic-btn">Xem thống kê</button>
                </div>
                <div class="statistic-item">
                    <p>Khách hàng</p>
                    <button class="statistic-customer-btn statistic-btn">Xem thống kê</button>
                </div>
                <!-- Mặt hàng -->
                <div class="statistic-type">
                    <div class="statistic-item-title">Thống kê theo mặt hàng</div>
                    <table class="statistic-table statistic-table-type">
                        <thead>
                            <th>Mặt hàng</th>
                            <th>Số lượng</th>
                            <th>Tổng tiền</th>
                        </thead>
                        <tbody>
                            <!-- Phần dữ liệu ở đây -->
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="2"><strong>Tổng thu:</strong></td>
                                <td class="total-revenue"></td>
                            </tr>
                        </tfoot>
                    </table>

                </div>

                <!-- Chi tiết mặt hàng -->
                <div class="wrap-statistic-type-detail">
                    <div class="statistic-type-detail">
                        <div class="type-detail-title">Mặt hàng Ice</div>
                        <div class="wrap-type-detail-filter">
                            <label for="type-detail-filter">Sắp xếp:</label>
                            <select id="type-detail-filter">
                                <option value="best_selling">Bán chạy nhất</option>
                                <option value="least_selling">Bán ế nhất</option>
                            </select>
                        </div>
                        <table class="type-detail-table">
                            <thead>
                                <th>Mã sản phẩm</th>
                                <th>Tên sản phẩm</th>
                                <th>Size</th>
                                <th>Số lượng</th>
                                <th>Giá</th>
                                <th>Tổng tiền</th>
                                <button class="btn-close-type-detail" onclick = "closeTypeDetail()">+</button>
                            </thead>
                            <tbody>
                                <tr>
                                    <td rowspan="2">2</td>
                                    <td rowspan="2">Ô Long Tuyết Lê Khổng Lồ</td>
                                    <td>M</td>
                                    <td>2</td>
                                    <td>35.000&nbsp;₫</td>
                                    <td rowspan="2">156.000&nbsp;₫</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="type-detail-pagination"></div>
                    </div>

                </div>

                <!-- Khách hàng -->
                <div class="statistic-customer">
                    <div class="statistic-item-title">Thống kê theo khách hàng</div>
                    <table class="statistic-table statistic-table-customer">
                        <thead>
                            <th>Mã khách hàng</th>
                            <th>Tên khách hàng</th>
                            <th>Số lượng</th>
                            <th>Tổng tiền đã mua</th>
                        </thead>
                        <tbody>

                        </tbody>

                    </table>
                    <div class="statistic-pagination"></div>

                    <div class="statistic-item-title title-top-customers">Top khách hàng phát sinh doanh thu nhiều nhất
                    </div>
                    <table class="statistic-table statistic-table-top-customers">
                        <thead>
                            <th>Mã khách hàng</th>
                            <th>Tên khách hàng</th>
                            <th>Số lượng</th>
                            <th>Tổng tiền đã mua</th>
                        </thead>
                        <tbody>

                        </tbody>
                    </table>

                </div>

                <div class="wrap-customer-detail">
                    <div class="customer-detail">
                        <!-- chi tiết khách hàng -->
                        <div class="customer-header">
                            <h2>Chi tiết khách hàng</h2>
                            <p><strong>Mã khách hàng:</strong> 101</p>
                            <p><strong>Tên khách hàng:</strong> Trương Mỹ Lan</p>
                            <p><strong>Số điện thoại:</strong> 0909090909</p>
                            <button class="btn-close-customer-detail">+</button>
                        </div>
    
                        <div class="customer-items">
                            <h3>Chi tiết đơn hàng</h3>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Mã đơn hàng</th> <!-- Thêm cột Mã sản phẩm -->
                                        <th>Số lượng sản phẩm</th>
                                        <th>Tổng tiền</th>
                                    </tr>
                                </thead>
                                <tbody class="customer-items-tbody">
    
                                    <!-- Ví dụ một sản phẩm có nhiều size -->
    
    
    
                                </tbody>
                            </table>
                            <div class="customer-summary">
                                <p><strong>Tổng tiền:</strong> 100000</p>
                            </div>
                        </div>
    
    
                    </div>

                </div>


            </div>
        </div>

        <div class="product-content">
            <!-- Danh sách sản phẩm bên trái chiếm 70% chiều rộng -->
            <div class="product-list">
                <h1 class="product-title">Danh sách sản phẩm</h1>
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Ảnh</th>
                            <th>Tên sản phẩm</th>
                            <th>Loại</th>
                            <th>Size</th>
                            <th>Giá</th>
                            <th>Edit</th>
                        </tr>
                    </thead>
                    <tbody class="product-detail">
                        <!-- Nội dung sẽ được điền vào đây -->
                    </tbody>
                </table>

                <!-- Phân trang -->
                <div class="pagination-product">
                    <button id="prev-page" class="pagination-btn" onclick="changePage(-1)">Prev</button>
                    
                    <button id="next-page" class="pagination-btn" onclick="changePage(1)">Next</button>
                </div>
            </div>

            <!-- Cột bên phải với search ở trên và add ở dưới -->
            <div class="right-column">
                <!-- Phần thêm sản phẩm ở dưới -->
                <div class="add">
                    <h1>Thêm sản phẩm</h1>
                    <form>
                        <label for="productname">Tên sản phẩm</label>
                        <input type="text" id="productname"><br>

                        <label for="size">Size:</label><br>
                        <br>
                        <input type="checkbox" id="size-s" name="size" value="s">S
                        <div class="price-input">
                            <label for="price-s">Giá cho S:</label>
                            <input type="text" id="price-s-input">
                        </div>
                        <br>
                        <input type="checkbox" id="size-m" name="size" value="m">M
                        <div class="price-input">
                            <label for="price-m">Giá cho M:</label>
                            <input type="text" id="price-m-input">
                        </div>
                        <br>
                        <input type="checkbox" id="size-l" name="size" value="l">L
                        <div class="price-input">
                            <label for="price-l">Giá cho L:</label>
                            <input type="text" id="price-l-input">
                        </div>
                        <br>
                        <label for="searchbysize">Chọn loại :</label>
                        <select id="Loai">
                            <option value="Milktea" selected>Milktea</option>
                            <option value="FreshFruitTea">FreshFruitTea</option>
                            <option value="Ice">Ice</option>
                        </select>
                        <br><br>
                        <label for="describe">Mô tả sản phẩm</label>
                        <textarea id="thongtin"></textarea>
                        <br><br>
                        <label for="productimage">
                            <span>Ảnh</span>
                            <img id="add-image" src="../image/temp2.jpg">
                        </label>
                        <input type="file" id="productimage" accept="image/*">
                        <br><br>

                        <button type="button" onclick="handleAddProduct()">Thêm</button>

                    </form>
                </div>
            </div>
            <div id="editModal">
                <div class="modal-content">
                    <form>
                        <input type="hidden" id="editProductId" />
                        <label for="editProductName">Product Name:</label>
                        <input type="text" id="editProductName" required />

                        <!-- Container for size fields -->
                        <div id="size-fields-container">
                            <!-- Dynamic size fields will be inserted here -->
                        </div>

                        <button type="button" onclick="addSizeField()">Add Size</button>
                        <label for="describe-update">Mô tả sản phẩm</label>
                        <textarea id="thongtin-update"></textarea>
                        <br><br>
                        <label for="editProductImage">Product Image:</label>
                        <input type="file" id="editProductImage" accept="image/*" />
                        <img id="previewImage" src="../image/temp2.jpg">
                        <button type="button" onclick="updateProduct()">Update Product</button>
                        <button type="button" onclick="closeModal()">Close</button>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- Customer  -->


        <div class="customer-content">
            <div class="customer-list">
                

                <table>
                    <h1 class="customer-title">Danh sách người dùng</h1>
                    <thead>
                        <tr>
                            <th>Mã người dùng</th>
                            <th>Tên người dùng</th>
                            <th class = "sdt">Số điện thoại</th>
                            <th class = "email">Email</th>
                            <th class = "role">Vai trò</th>
                            <th class = "status">Trạng thái người dùng</th>
                            <th>Edit</th>
                        </tr>
                    </thead>

                    <tbody class="customers--detail">
                        
                        
                    </tbody>


                </table>
                

                <!-- phan trang -->
                <!-- <div class="pagination-customer">
                    <button id="prev-page" class="pagination-btn" onclick="changePage(-1)">Prev</button>
                    <button id="next-page" class="pagination-btn" onclick="changePage(1)">Next</button>
                </div>
                 -->

             </div>

            <div class="right-column">
                <!-- Phần tìm kiếm sản phẩm ở trên -->
                <div class="search">
                    <h1>Tìm kiếm người dùng</h1>
                    <form>
                        <label for="searchcustomername">Tên người dùng</label>
                        <input type="text" id="searchcustomername">
                        <p id = "warning-name-valid">*Nhập đúng định dạng</p>
                        <p id = "warning-empty-search-customer">*Không được để trống tên tìm kiếm</p>
                        <br><br>

                        <button type="button" id = "timkiem">Tìm kiếm</button>
                        <button type="button" id = "back">Quay lại</button>
                    </form>
                </div>

                <!-- Phần thêm sản phẩm ở dưới -->
                <div class="add">
                    <h1>Thêm người dùng</h1>
                    <form>
                        <!-- <div class="code--customer">
                            <label for="customer--code">Mã khách hàng</label>
                            <input type="text" id="customer--code">
                        </div> -->

                        <div class="username-customer">
                            <label for="username--name">username</label>
                            <input type="text" id="username--name">
                            <p id = "warning-add-username">*Yêu cầu nhập đúng định dạng</p>
                            <p id = "warning-empty-add-username">*Không được để trống username</p>
                        </div>

                        <br>

                        <div class="password-customer">
                            <label for="password--name">password</label>
                            <input type="text" id="password--name">
                            <p id = "warning-add-password">*Yêu cầu nhập đúng định dạng</p>
                            <p id = "warning-empty-add-password">*Không được để trống password</p>
                        </div>

                        <br>
                       
                        <div class="name-customer">
                            <label for="customer--name">Tên người dùng</label>
                            <input type="text" id="customer--name">
                            <p id = "warning-add-name">*Yêu cầu nhập đúng định dạng</p>
                            <p id = "warning-empty-add-name">*Không được để trống tên người dùng</p>
                        </div>

                        <br>
                        

                        <div class="phone-customer">
                            <label for="customer--phone">Số điện thoại người dùng</label>
                            <input type="text" id="customer--phone">
                            <p id = "warning-add-phone">*Yêu cầu nhập đúng định dạng</p>
                            <p id = "warning-empty-add-phone">*Không được để trống số điện thoại</p>
                        </div>

                        <br>
                        
                        <div class="email-customer">
                            <label for="customer--email">Email người dùng</label>
                            <input type="text" id="customer--email">
                            <p id = "warning-add-email">*Yêu cầu nhập đúng định dạng</p>
                            <p id = "warning-empty-add-email">*Không được để trống email</p>
                        </div>

                        <br>
                       
                        <div class="ranking-customer">
                            <label for="customer--role">Vai trò</label>
                            <select id="customer--role" name="role">
                            <option value="Admin">Admin</option>
                            <option value="Staff">Nhân viên</option>
                            <option value="Customer">Khách hàng</option>
                            </select>
                        </div>
                        
                        <br>

                        <div class="status-customer">
                            <label for="customer--status">Trạng thái người dùng</label>
                            <select id="customer--status" name="status">
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                            </select>
                        </div>
                        <br>
                        <div class="district-customer">
                            <label for="customer--district">Quận</label>
                            <input type="text" id = "customer--district"> 
                            <p id = "warning-add-district">*Yêu cầu nhập đúng định dạng</p>
                            <p id = "warning-empty-add-district">*Không được để trống quận</p>
                        </div>
                        <br>
                        <div class="province-customer">
                            <label for="customer--province">Thành phố/tỉnh</label>
                            <input type="text" id = "customer--province"> 
                            <p id = "warning-add-province">*Yêu cầu nhập đúng định dạng</p>
                            <p id = "warning-empty-add-province">*Không được để trống tỉnh/thành</p>
                        </div>
                        <br>
                        <div class="ward-customer">
                            <label for="customer--ward">Phường</label>
                            <input type="text" id = "customer--ward"> 
                            <p id = "warning-add-ward">*Yêu cầu nhập đúng định dạng</p>
                            <p id = "warning-empty-add-ward">*Không được để trống phường</p>
                        </div>
                        <br>

                        <div class="street-customer">
                            <label for="customer--street">Đường</label>
                            <input type="text" id = "customer--street"> 
                            <p id = "warning-add-street">*Yêu cầu nhập đúng định dạng</p>
                            <p id = "warning-empty-add-street">*Không được để trống đường</p>
                            
                          
                        </div>

                        <br>
                        
                        <button type="button" id = "add--customer">Thêm</button>

                    </form>
                </div>
            </div> 
        </div>



        <div class="modal" id = "modal">
            
            <div class="modal-body">
                <div class="modal-header">
                    <h1>Chỉnh Sửa</h1>
                    <a href="#" id="button-close">
                        X
                    </a>
                </div>
                
                <div class="main-content">
                    <form action="">
                        <label for="change-name">Thay đổi tên</label>
                        <input type="text" name="changeName" id="change-name">
                        <p id = "modal-empty-change-name">*Tên không được để trống</p>
                        <p id = "modal-invalid-change-name">*Vui lòng nhập đúng định dạng tên</p>
                        <br>
                        <label for="change-name">Thay đổi số điện thoại</label>
                        <input type="text" name="changePhone" id="change-phone">
                        <p id = "modal-empty-change-phone">*Số điện thoại không được để trống</p>
                        <p id = "modal-invalid-change-phone">*Vui lòng nhập đúng định dạng số điện thoại</p>
                        <br>
                        <label for="change-email">Thay đổi email</label>
                        <input type="email" name="changeEmail" id="change-email">
                        <p id = "modal-empty-change-email">*Email không được để trống</p>
                        <p id = "modal-invalid-change-email">*Vui lòng nhập đúng định dạng email</p>
                        <br>
                        <label for="change-role">Thay đổi vai trò người dùng</label>
                        <select id="change-role" name="role">
                            <option value="Admin">Admin</option>
                            <option value="Staff">Nhân viên</option>
                            <option value="Customer">Khách hàng</option>
                        </select>
                        <br>
                        <label for="change-status">Thay đổi trạng thái</label>
                        <select id="change-status">
                            <option value="true">Active</option>
                            <option value="false">Inactive</option>
                        </select> 

                        <br>
                        <label for="change-city">Thay đổi thành phố</label>
                        <input type="text" name="changeCity" id = "change-city">
                        <p id = "modal-empty-change-city">*Thành phố không được để trống</p>
                        <p id = "modal-invalid-change-city">*Vui lòng nhập đúng định dạng thành phố</p>
                        <br>
                        <label for="change-street">Thay đổi đường</label>
                        <input type="text" name="changeStreet" id = "change-street">
                        <p id = "modal-empty-change-street">*Đường không được để trống</p>
                        <p id = "modal-invalid-change-street">*Vui lòng nhập đúng định dạng đường</p>
                        <br>
                        <label for="change-ward">Thay đổi phường</label>
                        <input type="text" name="changeWard" id = "change-ward">
                        <p id = "modal-empty-change-ward">*Phường không được để trống</p>
                        <p id = "modal-invalid-change-ward">*Vui lòng nhập đúng định dạng phường</p>

                    </form>
                    <button id = "submit">submit</button>
                </div>
            </div>
            
            <div class="overlay">
               
            </div>
        </div>
        

    </div>
    <script src="admin-orders.js"></script>
    <script src="admin-statistic.js"></script>
    <script src="admin-products.js"></script>
    <script src = "admin-customers.js"></script>

    
    <script src="admin_info.js"></script>
</body>

</html>
